(this["webpackJsonpalhub-dashboard"]=this["webpackJsonpalhub-dashboard"]||[]).push([[0],{301:function(e,t,a){},488:function(e,t,a){},492:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=a(4),s=a(6),l=a(5),d=a(34),u=a(41),j=(a(301),a(20)),b=a(13),h=a.n(b),m=a(121),p=(a(303),a(570),a(545)),g=a(544),f=(a(253),a(176)),x=a(539),O=a(542),v=a(28),y=a(1);Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var k=a(9),C=a(546),w=a(547),S=a(548),B=a(254),F=a.n(B),I=a(255),N=a.n(I);function P(e){var t=e.classes,a=e.drawer,n=e.open;Object(u.g)();return Object(y.jsx)(C.a,{position:"absolute",className:Object(k.a)(t.appBar,n&&t.appBarShift),children:Object(y.jsxs)(w.a,{className:t.toolbar,children:[Object(y.jsx)(S.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,className:Object(k.a)(t.menuButton,n&&t.menuButtonHidden),children:Object(y.jsx)(F.a,{})}),Object(y.jsx)(f.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"Dashboard"}),Object(y.jsx)(S.a,{color:"inherit",children:Object(y.jsx)(N.a,{onClick:function(){return localStorage.clear(),void window.location.reload(!1)}})})]})})}var L=a(571),A=a(553),E=a(552),V=a(257),W=a.n(V),D=a(549),T=a(550),G=a(551),U=a(256),R=a.n(U),_=a(201),z=a.n(_),J={textDecoration:"none",color:"#000000"},q=function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(d.b,{to:"/ads",style:J,children:Object(y.jsxs)(D.a,{button:!0,children:[Object(y.jsx)(T.a,{children:Object(y.jsx)(z.a,{})}),Object(y.jsx)(G.a,{primary:"Advertisement"})]})}),Object(y.jsx)(d.b,{to:"/categories",style:J,children:Object(y.jsxs)(D.a,{button:!0,children:[Object(y.jsx)(T.a,{children:Object(y.jsx)(R.a,{})}),Object(y.jsx)(G.a,{primary:"Categories"})]})}),Object(y.jsx)(d.b,{to:"/",style:J,children:Object(y.jsxs)(D.a,{button:!0,children:[Object(y.jsx)(T.a,{children:Object(y.jsx)(z.a,{})}),Object(y.jsx)(G.a,{primary:"Stores"})]})})]})};function $(e){var t=e.classes,a=e.drawer,n=e.open;return Object(y.jsxs)(L.a,{variant:"permanent",classes:{paper:Object(k.a)(t.drawerPaper,!n&&t.drawerPaperClose)},open:n,children:[Object(y.jsx)("div",{className:t.toolbarIcon,children:Object(y.jsx)(S.a,{onClick:a,children:Object(y.jsx)(W.a,{})})}),Object(y.jsx)(E.a,{}),Object(y.jsx)(A.a,{children:Object(y.jsx)(q,{})})]})}var K=a(7),M=Object(x.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(i.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(K.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),H=(a(180),a(199),a(559)),Q=a(560),Y=a(134),X=a.n(Y),Z=a(85),ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e){case"category":return{to:"/categories/"+t,imgLocation:"category/",data:[{key:"name",type:"text",displayName:"Name"},{key:"label",type:"text",displayName:"Label"},{key:"img",type:"image",displayName:"Image"}]};case"stores_full":return[{to:"/stores/"+t,imgLocation:"stores/",data:[{key:"name",type:"text",displayName:"name",validation:Z.b().required("Required")},{key:"location",type:"text",displayName:"Location",validation:Z.b().required("Required")},{key:"category",type:"select",displayName:"category",values:"/categories/$1/name",validation:Z.b().required("Required")},{key:"desciption",type:"textarea",displayName:"discription"},{key:"phone",type:"text",displayName:"phone"},{key:"stars",type:"text",displayName:"stars"},{key:"coords",type:"json",displayName:"coordinates",notSub:!0,data:[{key:"latitude",type:"text",displayName:"latitude"},{key:"longitude",type:"text",displayName:"longitude"}]},{key:"urls",type:"json",displayName:"Links",notSub:!0,data:[{key:"instagram",type:"text",displayName:"Instagram"},{key:"dribbble",type:"text",displayName:"Website"}]},{key:"img",type:"image",displayName:"Image"},{key:"bannerImg",type:"image",displayName:"Banner image"}]},{to:"/store_details/"+t,imgLocation:"stores/",data:[{key:"services",type:"collection",displayName:"Services",notSub:!0,schema:[{key:"name",type:"text",displayName:"Name"},{key:"charge",type:"text",displayName:"Charge"},{key:"image",type:"image",displayName:"Image"}]}]}];case"stores":return{to:"/stores/"+t,imgLocation:"stores/",data:[{key:"name",type:"text",displayName:"name"},{key:"location",type:"text",displayName:"Location"},{key:"category",type:"select",displayName:"category",values:"/categories/$1/name"},{key:"desciption",type:"textarea",displayName:"discription"},{key:"img",type:"image",displayName:"Image"},{key:"phone",type:"text",displayName:"phone"},{key:"stars",type:"text",displayName:"stars"},{key:"coords",type:"json",displayName:"coordinates",notSub:!0,data:[{key:"latitude",type:"text",displayName:"latitude"},{key:"longitude",type:"text",displayName:"longitude"}]},{key:"urls",type:"json",displayName:"Links",notSub:!0,data:[{key:"instagram",type:"text",displayName:"Instagram"},{key:"dribbble",type:"text",displayName:"Website"}]}]};case"store_details":return{to:"/store_details/"+t,imgLocation:"stores/",data:[{key:"bannerImg",type:"image",displayName:"Banner image"},{key:"services",type:"collection",displayName:"Services",notSub:!0,schema:[{key:"name",type:"text",displayName:"Name"},{key:"charge",type:"text",displayName:"Charge"},{key:"img",type:"image",displayName:"Image"}]}]};case"ads":return{to:"/ads/frontPage/RQJCOSIF4JF",imgLocation:"ads/frontPage/",data:[{key:"img",type:"image",displayName:""}]}}},te=a(554),ae=a(555),ne=a(558),re=a(557),ce=a(556),oe=a(39),ie=a(8);function se(e){return le.apply(this,arguments)}function le(){return(le=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r={};return Array.isArray(t)?(console.log(t),t.map((function(t){t.type===a&&(r["".concat(n,"/").concat(t.key)]=t),"collection"===t.type?r=Object(i.a)(Object(i.a)({},r),e(t.schema,a,"".concat(n,"/").concat(t.key,"/$"))):"json"===t.type&&(r=Object(i.a)(Object(i.a)({},r),e(t.data,a,"".concat(n,"/").concat(t.key))))})),r):r},ue=function(e,t){if(!e||"object"!==typeof e||"string"!==typeof t)return null;if(""===t||"/"===t)return e;var a,n=t.replaceAll(/^\/|\/$/g,"").split("/"),r=e,c=Object(oe.a)(n);try{for(c.s();!(a=c.n()).done;){var o=a.value;if(void 0===r[o]){r=r[o];break}r=r[o]}}catch(i){c.e(i)}finally{c.f()}return r},je=function(e,t){if(!Array.isArray(t))return[];if(0===t.length)return[];var a=new Array;return t.forEach((function(t){a.push({key:t,type:"json",data:e.schema,notSub:!0,parent:e})})),a},be=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];if(t&&Array.isArray(t)){t.map((function(t,r){"text"==t.type||"textarea"==t.type||"select"==t.type||"image"==t.type?n.push("".concat(a,"/").concat(t.key)):"json"!=t.type&&"collection"!=t.type||t.data&&n.push.apply(n,Object(ie.a)(e(t.data,"".concat(a,"/").concat(t.key))))}));return n}},he=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var me=a(261),pe=(a(413),Object(x.a)({root:{maxWidth:345}}));function ge(e){var t,a,n,c,o,i,s,j=e.data,b=r.a.useState(),h=Object(l.a)(b,2),m=(h[0],h[1],r.a.useState(!1)),g=Object(l.a)(m,2),x=g[0];g[1],Object(u.h)();r.a.useEffect((function(){}),[]),console.log("=======data====",j);var O=pe();return Object(y.jsx)(y.Fragment,{children:j&&Object(y.jsxs)(te.a,{className:O.root,children:[Object(y.jsxs)(ae.a,{children:[Object(y.jsx)(ce.a,{component:"img",alt:(null===(t=j.value)||void 0===t?void 0:t.label)||(null===(a=j.value)||void 0===a?void 0:a.name),height:"150",image:"http://43.204.67.248:3001/static/Images/Category/"+(null===(n=j.value)||void 0===n?void 0:n.filename),title:(null===(c=j.value)||void 0===c?void 0:c.label)||(null===(o=j.value)||void 0===o?void 0:o.name)}),Object(y.jsx)(re.a,{children:Object(y.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"h2",noWrap:!0,children:(null===(i=j.value)||void 0===i?void 0:i.label)||(null===(s=j.value)||void 0===s?void 0:s.name)})})]}),x&&Object(y.jsxs)(ne.a,{children:[Object(y.jsx)(d.b,{to:{pathname:"/form",state:{heading:"Edit Category",schema:["category",j.key],action:"update"}},children:Object(y.jsx)(p.a,{size:"small",color:"primary",children:"Edit"})}),Object(y.jsx)(p.a,{size:"small",color:"secondary",onClick:function(){Object(me.confirmAlert)({title:"Confirm to delete",message:"Are you sure to do this.",buttons:[{label:"Yes",onClick:function(){console.log(j.key),he("/categories/".concat(j.key))}},{label:"No"}]})},children:"Delete"})]})]})})}var fe=a(35),xe=a.n(fe),Oe=a(40),ve=a(47),ye=(Object(ve.a)(),Object(x.a)({fab:{margin:"0",top:"auto",right:"30px",bottom:"30px",left:"auto",position:"fixed"}}));function ke(){var e=ye(),t=r.a.useState([]),a=Object(l.a)(t,2),n=a[0],c=a[1];r.a.useEffect((function(){var e=function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe()({method:"GET",url:"http://43.204.67.248:3001/api/category/getall"}).then((function(e){200==e.status&&(console.log("=======response.data========",e.data),c(e.data.data))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return null!==n?Object(y.jsxs)(O.a,{children:[Object(y.jsx)(H.a,{container:!0,spacing:2,children:Object.keys(n).map((function(e){return Object(y.jsxs)(H.a,{item:!0,xs:6,sm:3,children:[Object(y.jsx)(ge,{data:{value:n[e],key:e}},e),Object(y.jsx)(d.b,{to:{pathname:"/categories-edit/"+n[e].id,state:{heading:"Edit category",schema:["category"],action:"update"}},children:Object(y.jsx)(Oe.a,{color:"warning",className:"px-4",children:"Edit"})}),Object(y.jsx)(Oe.a,{color:"danger",className:"px-4",onClick:function(){return t=n[e].id,console.log("iiiii ",t),void xe.a.post("http://43.204.67.248:3001/api/category/delete",{id:t}).then((function(e){200==e.status&&(console.log("=======response.data========",e.data),v.b.success("Deleted!"),window.location.reload(!1))})).catch((function(e){console.log(e)}));var t},children:"Delete"})]})}))}),Object(y.jsx)(d.b,{to:{pathname:"/form",state:{heading:"Add category",schema:["category"],action:"push"}},children:Object(y.jsx)(Q.a,{color:"primary",className:e.fab,"aria-label":"add",children:Object(y.jsx)(X.a,{})})})]}):Object(y.jsxs)(O.a,{children:[Object(y.jsx)("h1",{children:"No Data"}),Object(y.jsx)(d.b,{to:{pathname:"/form",state:{heading:"Add category",schema:["category"],action:"push"}},children:Object(y.jsx)(Q.a,{color:"primary",className:e.fab,"aria-label":"add",children:Object(y.jsx)(X.a,{})})})]})}var Ce=a(262),we=a.n(Ce),Se=a(263),Be=a.n(Se),Fe=a(203),Ie=a.n(Fe),Ne=Be()({page:1,sizePerPage:10});function Pe(){var e=Fe.Search.SearchBar,t=ye(),a=r.a.useState([]),c=Object(l.a)(a,2),o=c[0],s=c[1];Object(n.useEffect)((function(){xe.a.get("http://43.204.67.248:3001/api/store/getall").then((function(e){200==e.status&&(console.log("=======response.data========",e.data),s(e.data.data))})).catch((function(e){console.log(e)}))}),[]);var u=function(e){console.log("iiiii ",e),xe.a.post("http://43.204.67.248:3001/api/store/delete",{id:e}).then((function(e){200==e.status&&(console.log("=======response.data========",e.data),v.b.success("Deleted!"),window.location.reload(!1))})).catch((function(e){console.log(e)}))},j=[{dataField:"id",text:"ID",isDummyField:!0,formatter:function(e,t,a){return++a}},{dataField:"name",text:"Name",searchable:!0},{dataField:"category",text:"Category",searchable:!0},{dataField:"phone",text:"Phone Number",searchable:!0},{dataField:"location",text:"Location",searchable:!0},{dataField:"pin",text:"Pin",searchable:!0},{dataField:"claim",text:"Offer Claim",searchable:!0},{dataField:"actions",text:"Actions",isDummyField:!0,csvExport:!1,formatter:function(e,t){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.b,{to:"/store/edit/"+t.id,children:Object(y.jsx)(Oe.a,{color:"warning",className:"px-4",children:"Edit"})}),Object(y.jsx)(Oe.a,{color:"danger",className:"px-4",onClick:function(){return u(t.id)},children:"Delete"})]})}}];return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(O.a,{children:[Object(y.jsx)(Ie.a,{keyField:"id",data:o,columns:j,search:!0,children:function(t){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"Search Store Details :"}),Object(y.jsx)(e,Object(i.a)({},t.searchProps)),Object(y.jsx)("hr",{}),Object(y.jsx)(we.a,Object(i.a)(Object(i.a)({},t.baseProps),{},{pagination:Ne,wrapperClasses:"table-responsive"}))]})}}),Object(y.jsx)(d.b,{to:{pathname:"/store/add",state:{heading:"Add Store",schema:["stores_full"],action:"push"}},children:Object(y.jsx)(Q.a,{color:"primary",className:t.fab,"aria-label":"add",children:Object(y.jsx)(X.a,{})})}),Object(y.jsx)(v.a,{})]})})}var Le=a(280),Ae=a(265),Ee=a.n(Ae),Ve=a(264),We=a.n(Ve);function De(){return De=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(j.a)(h.a.mark((function e(a,n){var r,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.a.database(),e.prev=1,e.next=4,r.ref("/stores/"+t).once("value");case 4:return c=e.sent,e.next=7,r.ref("/store_details/"+t).once("value");case 7:o=e.sent,a(Object(i.a)(Object(i.a)({},c.val()),o.val())),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Te(){var e=Object(u.h)().id,t=r.a.useState(null),a=Object(l.a)(t,2),n=a[0],c=a[1];return r.a.useEffect((function(){(function(e){return De.apply(this,arguments)})(e).then((function(e){console.log(e),c(e)})).catch((function(e){console.log(e)}))}),[]),n?Object(y.jsxs)(O.a,{component:Le.a,children:[Object(y.jsxs)(H.a,{children:[Object(y.jsx)(f.a,{gutterBottom:!0,variant:"h3",component:"h2",children:n.name}),Object(y.jsx)(f.a,{gutterBottom:!0,variant:"h6",component:"h6",children:n.desciption}),Object(y.jsxs)(f.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[Object(y.jsx)(We.a,{}),Object(y.jsx)("span",{children:n.category})]}),Object(y.jsxs)(f.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[Object(y.jsx)(Ee.a,{}),Object(y.jsx)("span",{children:n.location})]})]}),n.services&&Object(y.jsxs)(H.a,{children:[Object(y.jsx)(f.a,{gutterBottom:!0,variant:"h4",component:"h2",children:"Services"}),Object(y.jsx)(H.a,{container:!0,spacing:2,children:Object.keys(n.services).map((function(e){return Object(y.jsx)(H.a,{item:!0,xs:6,sm:3,children:Object(y.jsx)(ge,{data:{value:n.services[e],key:e}},e)})}))})]})]}):Object(y.jsx)(y.Fragment,{})}var Ge=a(275),Ue=a(567),Re=a(562),_e=a(572),ze=a(269),Je=a.n(ze),qe=a(93),$e=a.n(qe),Ke=a(563),Me=a(573),He=a(268);function Qe(e,t){return e.filter((function(e){return!t.some((function(t){return t===e}))}))}var Ye,Xe=a(561),Ze=(a(488),r.a.forwardRef((function(e,t){var a=e.title,n=e.defaultImage,c=e.name,o=e.src,i=r.a.useRef();r.a.useImperativeHandle(t,(function(){return{clearInputs:function(){i.current.value=null},clearImages:function(){m([{currentFile:null,previewImage:n}])}}})),r.a.useEffect((function(){o&&console.log("----src-----",o)}),[o]);var s=r.a.useState(!1),d=Object(l.a)(s,2),u=d[0],j=(d[1],r.a.useState([{currentFile:o?null:n,previewImage:o?null:n}])),b=Object(l.a)(j,2),h=b[0],m=b[1];function p(){i.current.click()}return Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsx)(H.a,{item:!0,xs:3,children:a}),Object(y.jsxs)(H.a,{item:!0,xs:9,children:[Object(y.jsx)("input",{ref:i,hidden:!0,accept:"image/*",type:"file",onChange:function(e){for(var t=[],a=0;a<e.target.files.length;a++){var n=e.target.files[a];n.type.startsWith("image/")&&t.push({currentFile:n,previewImage:URL.createObjectURL(n)})}console.log("----img-----",t),m(t)},multiple:!0,name:c||""}),u?Object(y.jsx)(Xe.a,{variant:"rect",width:210,height:118,animation:"wave"}):h.map((function(e){return Object(y.jsx)("img",{src:e.previewImage,alt:c,onError:function(){return m([{currentFile:null,previewImage:n}])},className:"",onClick:p})}))]})]})}))),et=a.p+"static/media/Placeholder.65c08d09.jpg",tt=a(123),at=a.n(tt),nt=(a(489),Z.a().shape((Ye={},Object(K.a)(Ye,"/stores/category",Z.b().required("Required")),Object(K.a)(Ye,"/stores/name",Z.b().required("Required")),Ye)),Object(x.a)((function(e){return{backdrop:{zIndex:100,color:"#fff"},card:{backgroundColor:"rgba(255,255,255,1)",marginBottom:"10px",boxShadow:"1px 1px 4px -2px rgba(0,0,0,0.59)"},submitArea:{margin:"30px 0 10px 0"},form:{margin:"5px 0 20px 0"}}}))),rt=function e(t,a){if(a){var n=a.replaceAll(/^\/|\/$/g,"").split("/");1===n.length?t.data.forEach((function(e,a){e.key===n[0]&&t.data.splice(a,1)})):n.length>1&&t.data.forEach((function(t){t.key===n[0]&&e(t,n.slice(1).join(""))}))}},ct=function e(t,a,n){if(a){var r=a.replaceAll(/^\/|\/$/g,"").split("/");1===r.length?t.data.forEach((function(e,t){var a,c;e.key===r[0]&&(e.data||(e.data=[]),Array.isArray(n)?(a=e.data).push.apply(a,Object(ie.a)(n)):(c=e.data).push.apply(c,Object(ie.a)(n)))})):r.length>1&&t.data.forEach((function(t){t.key===r[0]&&e(t,r.slice(1).join(""),n)}))}},ot=function(e){return new Promise(function(){var t=Object(j.a)(h.a.mark((function t(a,n){var r,c,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r={deleted:[],failed:[]},c=Object(oe.a)(e),t.prev=2,c.s();case 4:if((o=c.n()).done){t.next=19;break}return i=o.value,t.prev=6,t.next=9,se(i);case 9:t.sent,r.deleted.push(i),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0),r.failed.push(i);case 17:t.next=4;break;case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(2),c.e(t.t1);case 24:return t.prev=24,c.f(),t.finish(24);case 27:a(r);case 28:case"end":return t.stop()}}),t,null,[[2,21,24,27],[6,13]])})));return function(e,a){return t.apply(this,arguments)}}())},it=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return{};for(var n=new Object,r=0,c=Object.entries(t);r<c.length;r++){var o=c[r];"object"===typeof o[1]?Object.assign(n,e(o[1],"".concat(a,"/").concat(o[0]))):n["".concat(a,"/").concat(o[0])]=o[1]}return n},st=function(e){for(var t={},a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];e[r]instanceof File&&(console.log("----------k---------",r),t[r]=e[r])}return t},lt=function(e,t){for(var a=st(e),n=0,r=Object.keys(a);n<r.length;n++){var c=r[n];0===a[c].size&&(t&&t[c]?e[c]=t[c]:delete e[c])}return e},dt=function(e,t,a,n,r,c){if("update"===t)switch(r){case"Add category":console.log("----------Update Category-------misfer");break;case"Ad Banner":console.log("----------Ad Banner-----"),Object.entries(e).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];console.log("----------k-----",a.replace("/ads/frontPage/RQJCOSIF4JF/","")),console.log("----------v-----",n);var r=new FormData;r.append("image",n),xe()({method:"POST",url:"http://43.204.67.248:3001/api/banner/create",data:r,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&(console.log(e.data),v.b.dismiss(c),v.b.success("Added!"),window.location.reload(!1))})).catch((function(e){console.log(e),v.b.dismiss(c),v.b.error("Upload Failed")}))}))}else if("push"==t)switch(r){case"Add category":console.log("----------Add New Category-----");var o=new FormData;Object.entries(e).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],r=a.replace("/categories/","");console.log("----------Key-----",r),"name"==r&&o.append("name",n),"label"==r&&o.append("label",n),"img"==r&&o.append("image",n)})),o.append("auth_user",localStorage.getItem("user_id")),xe()({method:"POST",url:"http://43.204.67.248:3001/api/category/create",data:o,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&(console.log(e.data),v.b.dismiss(c),v.b.success("Added!"),window.location.reload(!1))})).catch((function(e){console.log(e),v.b.dismiss(c),v.b.error("Upload Failed")}));break;case"Add Store":Object.entries(e).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],r=new FormData,c=a.replace("/stores/","");console.log("----------Key-----",c),"name"==c&&r.append("name",n),"location"==c&&r.append("location",n),"category"==c&&r.append("category",n),"desciption"==c&&r.append("desciption",n),"phone"==c&&r.append("phone",n),"stars"==c&&r.append("stars",n),"coords/latitude"==c&&r.append("latitude",n),"coords/longitude"==c&&r.append("longitude",n),"urls/instagram"==c&&(console.log("----------instagram-----",n),r.append("instagram",n)),"urls/dribbble"==c&&(console.log("----------dribbble-----",n),r.append("dribbble",n)),"img"==c&&r.append("image",n),"bannerImg"==c&&(console.log("----------bannerImg-----",n),r.append("bannerImg",n)),console.log("----------postData-----",r),xe()({method:"POST",url:"http://43.204.67.248:3001/api/store/create",data:r,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&console.log(e.data)})).catch((function(e){console.log(e)}))}));break;case"Ad Banner":Object.entries(e).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];console.log("----------k-----",a.replace("/ads/frontPage/RQJCOSIF4JF/","")),console.log("----------v-----",n);var r=new FormData;r.append("image",n),xe()({method:"POST",url:"http://43.204.67.248:3001/api/banner/create",data:r,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&(console.log(e.data),v.b.dismiss(c),v.b.success("Added!"),window.location.reload(!1))})).catch((function(e){console.log(e),v.b.dismiss(c),v.b.error("Upload Failed")}))}))}else"delete"===t&&console.log("----------action === delete-----")},ut=function(e){for(var t=[],a=function(){var a=r[n];t.push.apply(t,Object(ie.a)(be(e[a].data).map((function(e){return"/".concat(a).concat(e)}))))},n=0,r=Object.keys(e);n<r.length;n++)a();return t};function jt(e){var t=e.heading,a=e.schema,n=e.action,c=(e.sameKey,Object(u.h)(),Object(u.g)()),o=r.a.useState({}),s=Object(l.a)(o,2),d=s[0],b=(s[1],r.a.useState(!1)),m=Object(l.a)(b,2),g=m[0],x=m[1],O=r.a.useState(!1),k=Object(l.a)(O,2),C=k[0],w=(k[1],r.a.useState(null)),S=Object(l.a)(w,2),B=S[0],F=(S[1],r.a.useState([])),I=Object(l.a)(F,2),N=I[0],P=I[1],L=r.a.useState(function(e){return e?Array.isArray(e)?Object.fromEntries(e.map((function(e,t){return[e.to.replaceAll(/^\/|\/$/g,""),e]}))):Object(K.a)({},e.to.replaceAll(/^\/|\/$/g,""),e):null}(a)),A=Object(l.a)(L,2),E=A[0],V=A[1],W=r.a.useState(null),D=Object(l.a)(W,2),T=D[0],G=(D[1],r.a.useRef({})),U=r.a.useRef({}),R=nt(),_=Object(Ge.a)({initialValues:it(N),enableReinitialize:!0,validationSchema:T});r.a.useEffect((function(){"update"===n&&xe.a.post("http://43.204.67.248:3001/api/category/getone",{id:11}).then((function(e){200==e.status&&(console.log("=======response.data.misfer========"+n,e.data),P(e.data.data))})).catch((function(e){console.log(e)}))}),[]);var z=function(e){for(var t=0,a=Object.values(G.current[e]);t<a.length;t++){var n=a[t];n&&n.clearInputs()}},J=function(e){for(var t=0,a=Object.values(G.current[e]);t<a.length;t++){a[t].clearImages()}},q=function(){var e=Object(j.a)(h.a.mark((function e(){var t,a,r,o,i,s,l,u,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=ut(E)).forEach((function(e){_.setFieldTouched(e,!0,!1)})),e.next=4,_.validateForm();case 4:if(a=e.sent,0!==Object.keys(a).length){e.next=33;break}x(!0),r=v.b.loading("please wait..."),o={success:function(){v.b.dismiss(r),"push"===n?v.b.success("Added!"):"update"===n&&v.b.success("Updated!")},failed:function(){v.b.dismiss(r),v.b.error("Upload Failed")}},i=null,s=!1,l=0,u=Object.keys(U.current);case 11:if(!(l<u.length)){e.next=30;break}return j=u[l],e.prev=13,e.next=16,$(U.current[j],E[j],B&&it(Object(K.a)({},j,B[j])),i,r);case 16:z(j),"update"===n||"push"===n&&J(j),e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(13),console.log(e.t0),s=!0,o.failed(),c.goBack(),e.abrupt("break",30);case 27:l++,e.next=11;break;case 30:"push"===n&&(_.setValues(Object.fromEntries(t.map((function(e){return[e,""]})))),V(d)),s||(t.forEach((function(e){return _.setFieldTouched(e,!1,!1)})),o.success()),x(!1);case 33:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(){return e.apply(this,arguments)}}(),$=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>4?arguments[4]:void 0;return new Promise(function(){var o=Object(j.a)(h.a.mark((function o(i,s){var l,d,u,j,b;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=Object.fromEntries(new FormData(e).entries()),l=lt(l,r),d=st(l),"update"===n&&(u=Object.keys(de(a.data,"image")).map((function(e){return"".concat(e.replaceAll(/\/\$.*\//g,"/.+/"),"$")})),j=Object.keys(r).filter((function(e){return u.some((function(t){var a=new RegExp(t);return!!e.match(a)}))})),b=Qe(Qe(j,Object.keys(d)),Object.keys(l)).map((function(e){return r[e]})),ot(b)),console.log("----------Object.keys(files).length---------",Object.keys(d).length),o.next=7,dt(l,n,a.to,0,t,c);case 7:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}())},M=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.schema,c=n.updateSchema,o=n.id;if(t&&Array.isArray(t)){var i=t.map((function(t,i){var s=a.match(/\//);s=s?s.length:0;var l,d,u="".concat(s,"_").concat(i),j=""===a?"/".concat(o,"/").concat(t.key):"/".concat(o).concat(a,"/").concat(t.key);return"text"==t.type?Object(y.jsxs)(H.a,{item:!0,xs:12,sm:6,children:[Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},id:j,name:j,label:t.displayName,fullWidth:!0,onChange:_.handleChange,value:_.values[j],error:_.touched[j]&&!!_.errors[j],helperText:_.touched[j]&&_.errors[j],onBlur:function(){return _.setFieldTouched(j,!0)}})," ....."]},u):"textarea"==t.type?Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},id:j,name:j,label:t.displayName,multiline:!0,fullWidth:!0,rows:6,rowsMax:15})},u):"select"==t.type?Object(y.jsxs)(H.a,{item:!0,xs:12,sm:6,children:[Object(y.jsx)(Me.a,{id:"demo-simple-select-label",children:t.key}),Object(y.jsxs)(He.a,{name:j,id:j,onChange:function(e){return _.setFieldValue(j,e.target.value)},onBlur:function(){return _.setFieldTouched(j,!0)},value:_.values[j],error:_.touched[j]&&!!_.errors[j],children:[Object(y.jsx)("option",{"aria-label":"None",value:"Select"}),Array.isArray(N)&&N.map((function(e,t){return Object(y.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(y.jsx)(Re.a,{error:!0,children:_.touched[j]&&_.errors[j]})]},u):"image"==t.type?Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(Ze,{title:t.displayName,ref:function(e){var t;G.current[o]=null!==(t=G.current[o])&&void 0!==t?t:{},G.current[o][u]=e},name:j,src:ue(B?B[o]:null,"".concat(a,"/").concat(t.key)),defaultImage:et})},u):"json"==t.type&&t.data?t.notSub?Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsxs)(H.a,{container:!0,spacing:3,className:"collection"===(null===(l=t.parent)||void 0===l?void 0:l.type)?R.card:null,children:["collection"===(null===(d=t.parent)||void 0===d?void 0:d.type)&&Object(y.jsx)(Q.a,{color:"primary","aria-label":"add",onClick:function(){var e=at()(r);rt(e,"".concat(a,"/").concat(t.key)),c(e)},children:Object(y.jsx)(Je.a,{})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(f.a,{variant:"h6",className:R.formSubHeading,children:t.displayName})}),e(t.data,"".concat(a,"/").concat(t.key),t,n)]})},u):Object(y.jsxs)(H.a,{item:!0,xs:12,sm:6,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t.displayName})}),Object(y.jsx)(H.a,{container:!0,spacing:3,children:e(t.data,"".concat(a,"/").concat(t.key),t,n)})]},i):"collection"==t.type?Object(y.jsxs)(H.a,{item:!0,xs:12,sm:12,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t.displayName})}),Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){var e=at()(r);ct(e,"".concat(a,"/").concat(t.key),je(t,["sdgfjsd"])),console.log(e),c(e)},children:"+"})}),e(t.data,"".concat(a,"/").concat(t.key),t,n)]})]},u):void 0}));return i}};return a&&n?Object(y.jsx)(y.Fragment,{children:E&&"object"===typeof E&&null!==E&&Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)($e.a,{onClick:function(){return c.goBack()}}),Object(y.jsx)(f.a,{variant:"h4",gutterBottom:!0,children:t}),Object(y.jsx)(_e.a,{className:R.backdrop,open:C,onClick:function(e){e.preventDefault()},children:Object(y.jsx)(Ke.a,{color:"inherit"})}),Object.keys(E).map((function(e){var t,a;return Object(y.jsx)("form",{className:R.form,ref:function(t){return U.current[e]=t},encType:"multipart/form-data",children:Object(y.jsx)(H.a,{container:!0,spacing:3,children:M(null===(t=E[e])||void 0===t?void 0:t.data,"",null,{schema:E[e],updateSchema:(a=e,function(e){return V((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(K.a)({},a,e))}))}),id:e})})},e)})),Object(y.jsx)(H.a,{container:!0,direction:"row-reverse",children:Object(y.jsx)(p.a,{disabled:g,onClick:q,variant:"contained",color:"primary",className:R.submitArea,children:"Submit....."})})]})}):Object(y.jsx)(y.Fragment,{})}function bt(){return Object(y.jsx)(O.a,{children:Object(y.jsx)(jt,{heading:"Ad Banner",schema:ee("ads"),name:"ad",action:"update"})})}function ht(){var e=Object(u.h)(),t=null===e||void 0===e?void 0:e.state.heading,a=null===e||void 0===e?void 0:e.state.action,n=null===e||void 0===e?void 0:e.state.schema,r=Object(l.a)(n,2),c=r[0],o=r[1],i=ee(c,o||"");null===e||void 0===e||e.state.sameKey;return console.log("================================================="+t),Object(y.jsx)(jt,{heading:t,action:a,schema:i,sameKey:!0})}var mt=a(21),pt=a(16),gt=a(15),ft=a(22),xt=a(23),Ot=a(278),vt=a(566),yt=a(63),kt=a(574);a(251);function Ct(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function wt(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Ot.b.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Ot.b.error("Image must smaller than 2MB!"),t&&a}var St=function(e){Object(ft.a)(a,e);var t=Object(xt.a)(a);function a(){var e;Object(pt.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,delete:"Delete"},e.handleDelete=function(t){xe.a.post("http://43.204.67.248:3001/api/store/delete-img",{id:t,store_id:e.props.storeid}).then((function(e){console.log(e),alert("Image is Deleted"),window.location.reload()})).catch((function(e){console.log(e)}))},e.handleChange=function(t){if("uploading"!==t.file.status){if("done"===t.file.status){if(console.log("info",t.file.response.imageId),e.props.multiple){var a=e.props.value;e.props.onChange(""===a?t.file.response.imageId:a+","+t.file.response.imageId)}else e.props.onChange(t.file.response.imageId);Ct(t.file.originFileObj,(function(t){return e.setState({imageUrl:t,loading:!1})}))}}else e.setState({loading:!0})},e.fetchEvent=function(){var t=e.props.banners.filter((function(t){return[e.props.value].includes(t)}));console.log("Data is"+t)},e}return Object(gt.a)(a,[{key:"removeValue",value:function(e,t){return e.replace(new RegExp(",?"+t+",?"),(function(e){return","===e.charAt(0)&&","===e.charAt(e.length-1)?",":""}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.loading,r=a.imageUrl,c=Object(y.jsxs)("div",{children:[n?Object(y.jsx)(yt.a,{}):Object(y.jsx)(kt.a,{}),Object(y.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsxs)(H.a,{item:!0,xs:4,children:[this.props.title,Object(y.jsxs)(vt.a,{name:"image",listType:"picture-card",className:"avatar-uploader",showUploadList:this.props.multiple,multiple:this.props.multiple,action:"http://43.204.67.248:3001/api/store/upload",beforeUpload:wt,onChange:this.handleChange,children:[console.log("this.props.multiple",this.props.multiple),this.props.multiple?Object(y.jsx)(y.Fragment,{children:c}):Object(y.jsx)(y.Fragment,{children:r?Object(y.jsx)("img",{src:r,alt:"avatar",style:{width:"100%"}}):c})]})]}),Object(y.jsx)(H.a,{item:!0,xs:4}),Object(y.jsx)(H.a,{item:!0,xs:4,children:!1===this.props.multiple&&this.props.value?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{children:"Logo"}),Object(y.jsx)("img",{width:150,src:"http://43.204.67.248:3001/static/Images/Store/"+this.props.image})]}):Object(y.jsx)(y.Fragment,{})}),null===this.props.banners?Object(y.jsx)(y.Fragment,{}):Object(y.jsxs)(y.Fragment,{children:[null===(e=this.props.banners)||void 0===e?void 0:e.map((function(e,a){return Object(y.jsxs)(H.a,{item:!0,xs:3,children:[Object(y.jsx)("img",{width:150,src:"http://43.204.67.248:3001/static/Images/Store/"+e.filename}),Object(y.jsx)(p.a,{variant:"outlined",color:"error",onClick:function(a){return t.handleDelete(e.id)},children:"Delete"})]},a)})),";"]})]})})}}]),a}(n.Component),Bt=St,Ft=a(568),It=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(0),i=Object(l.a)(o,2),s=(i[0],i[1],Object(mt.c)()),d=(s.register,s.handleSubmit),j=(s.watch,s.control);s.formState.errors;Object(n.useEffect)((function(){xe()({method:"GET",url:"http://43.204.67.248:3001/api/category/getall"}).then((function(e){200==e.status&&(console.log("=======response.data========",e.data),c(e.data.data))})).catch((function(e){console.log(e)}))}),[]);var b=Object(mt.b)({control:j,name:"services"}),h=b.fields,m=b.append;b.remove;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)($e.a,{onClick:function(){return e.goBack()}}),Object(y.jsx)(f.a,{variant:"h4",gutterBottom:!0,children:"Add Store"}),Object(y.jsxs)("form",{onSubmit:d((function(e){alert(e),console.log("dddd ",e),xe()({method:"POST",url:"http://43.204.67.248:3001/api/store/create",data:e}).then((function(e){200==e.status?(console.log(e.data),v.b.success("Added!"),window.location.reload(!1)):v.b.error("Something went wrong")})).catch((function(e){console.log(e)}))})),encType:"multipart/form-data",children:[Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"name",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Name",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"location",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Location",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"category",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,c=t.value;t.ref;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Me.a,{id:"demo-simple-select-label",children:"Category"}),Object(y.jsxs)(He.a,{id:"category",onChange:a,onBlur:n,value:c,children:[Object(y.jsx)("option",{"aria-label":"None",value:"Select"}),Array.isArray(r)&&r.map((function(e,t){return Object(y.jsx)("option",{value:e.id,children:e.name},t)}))]})]})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"description",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Description",multiline:!0,fullWidth:!0,rows:6,rowsMax:15,onChange:a,value:r,onBlur:n})})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"offer",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Me.a,{id:"demo-simple-select-label",children:"Offer"}),Object(y.jsxs)(He.a,{id:"offer",onChange:a,onBlur:n,value:r,children:[Object(y.jsx)("option",{"aria-label":"None",value:""}),Object(y.jsx)("option",{value:"Get 20% discount on total bill amount",children:"Get 20% discount on total bill amount"}),Object(y.jsx)("option",{value:"Get 25% discount on total bill amount",children:"Get 25% discount on total bill amount"}),Object(y.jsx)("option",{value:"Get 30% discount on total bill amount",children:"Get 30% discount on total bill amount"}),Object(y.jsx)("option",{value:"Complimentary desert",children:"Complimentary desert"}),Object(y.jsx)("option",{value:"Buy one Get one free on main courses",children:"Buy one Get one free on main courses"}),Object(y.jsx)("option",{value:"Buy one Get one free on selected services",children:"Buy one Get one free on selected services"})]})]})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"phone",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Phone",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"stars",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Stars",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(f.a,{variant:"h5",children:"Coordinates"})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"latitude",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Latitude",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"longitude",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Longitude",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(f.a,{variant:"h5",children:"Links"})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"instagram",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Instagram",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"website",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Website",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"image",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Bt,{title:"Image",multiple:!1,onChange:a,value:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"banner",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Bt,{title:"Banner Image",multiple:!0,onChange:a,value:n})})}})}),Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){m({name:"",charge:"",image:""})},children:"+"})}),h.map((function(e,t){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"services.".concat(t,".name"),render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Name",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})},e.id),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"services.".concat(t,".charge"),render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Charge",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"services.".concat(t,".image"),render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Bt,{title:"image",multiple:!1,onChange:a,value:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6})]})}))]}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:j,name:"keywords",defaultValue:[],render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsxs)(y.Fragment,{children:[console.log("vvv ",n),Object(y.jsx)(Ft.a,{mode:"tags",size:"middle",placeholder:"Enter Keywords",value:""==n?[]:n,onChange:a,style:{width:"100%"}})]})}})})]}),Object(y.jsx)(H.a,{container:!0,direction:"row-reverse",children:Object(y.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})})]})]})},Nt=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],d=i[1],j=Object(n.useState)(0),b=Object(l.a)(j,2),h=(b[0],b[1],Object(n.useState)()),m=Object(l.a)(h,2),g=(m[0],m[1],Object(n.useState)()),x=Object(l.a)(g,2),O=(x[0],x[1],Object(n.useState)()),k=Object(l.a)(O,2),C=k[0],w=k[1],S=Object(mt.c)(),B=(S.register,S.handleSubmit),F=(S.watch,S.control),I=S.setValue,N=(S.formState.errors,Object(u.i)());console.log("useParams",N.id),Object(n.useEffect)((function(){xe()({method:"GET",url:"http://43.204.67.248:3001/api/category/getall"}).then((function(e){200==e.status&&(console.log("=======response.data========",e.data),c(e.data.data))})).catch((function(e){console.log(e)})),xe.a.post("http://43.204.67.248:3001/api/store/getone",{id:N.id}).then((function(e){200==e.status&&(console.log("=======response.data========",e.data),I("name",e.data.data[0].name),I("location",e.data.data[0].location),I("category",e.data.data[0].category),I("description",e.data.data[0].desciption),I("phone",e.data.data[0].phone),I("stars",e.data.data[0].stars),I("latitude",e.data.data[0].latitude),I("longitude",e.data.data[0].longitude),I("instagram",e.data.data[0].instagram),I("website",e.data.data[0].dribbble),I("offer",e.data.data[0].offer),I("image",e.data.data[0].image),w(e.data.data[0].filename),I("banner",e.data.data[0].bannerimg),d(e.data.data[0].bannerImages),console.log("banners"+JSON.stringify(e.data.data[0].bannerImages)),I("images",["http://43.204.67.248:3001/static/Images/Store/"+e.data.data[0].filename]),I("keywords",e.data.data[0].keywords.split(",")),I("services",e.data.data[0].services),I("id",N.id))})).catch((function(e){console.log(e)}))}),[]);var P=Object(mt.b)({control:F,name:"services"}),L=P.fields,A=P.append;P.remove;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)($e.a,{onClick:function(){return e.goBack()}}),Object(y.jsx)(f.a,{variant:"h4",gutterBottom:!0,children:"Edit Store"}),Object(y.jsxs)("form",{onSubmit:B((function(e){xe()({method:"POST",url:"http://43.204.67.248:3001/api/store/update",data:e}).then((function(e){200==e.status&&(console.log(e.data),v.b.success("Updaated"))})).catch((function(e){console.log(e)}))})),encType:"multipart/form-data",children:[Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"name",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Name",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"location",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Location",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"category",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,c=t.value;t.ref;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Me.a,{id:"demo-simple-select-label",children:"Category"}),Object(y.jsxs)(He.a,{id:"category",onChange:a,onBlur:n,value:c,children:[Object(y.jsx)("option",{"aria-label":"None",value:"Select"}),Array.isArray(r)&&r.map((function(e,t){return Object(y.jsx)("option",{value:e.id,children:e.name},t)}))]})]})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"description",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Description",multiline:!0,fullWidth:!0,rows:6,rowsMax:15,onChange:a,value:r,onBlur:n})})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"offer",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Me.a,{id:"demo-simple-select-label",children:"Offer"}),Object(y.jsxs)(He.a,{id:"offer",onChange:a,onBlur:n,value:r,children:[Object(y.jsx)("option",{"aria-label":"None",value:""}),Object(y.jsx)("option",{value:"Get 20% discount on total bill amount",children:"Get 20% discount on total bill amount"}),Object(y.jsx)("option",{value:"Get 25% discount on total bill amount",children:"Get 25% discount on total bill amount"}),Object(y.jsx)("option",{value:"Get 30% discount on total bill amount",children:"Get 30% discount on total bill amount"}),Object(y.jsx)("option",{value:"Complimentary desert",children:"Complimentary desert"}),Object(y.jsx)("option",{value:"Buy one Get one free on main courses",children:"Buy one Get one free on main courses"}),Object(y.jsx)("option",{value:"Buy one Get one free on selected services",children:"Buy one Get one free on selected services"})]})]})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"phone",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Phone",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"stars",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Stars",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(f.a,{variant:"h5",children:"Coordinates"})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"latitude",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Latitude",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"longitude",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Longitude",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(f.a,{variant:"h5",children:"Links"})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"instagram",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Instagram",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"website",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Website",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"image",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Bt,{title:"Image",image:C,multiple:!1,onChange:a,value:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"banner",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Bt,{banners:s,storeid:N.id,title:"Banner Image",multiple:!0,onChange:a,value:n})})}})}),Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(y.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){A({name:"",charge:"",image:""})},children:"+"})}),L.map((function(e,t){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:5,children:Object(y.jsx)(mt.a,{control:F,name:"services.".concat(t,".name"),render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Name",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})},e.id),Object(y.jsx)(H.a,{item:!0,xs:12,sm:2,children:Object(y.jsx)(mt.a,{control:F,name:"services.".concat(t,".charge"),render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Charge",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"services.".concat(t,".image"),render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Bt,{title:"image",multiple:!1,onChange:a,value:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6})]})}))]}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:F,name:"keywords",defaultValue:[],render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsxs)(y.Fragment,{children:[console.log("vvv ",n),Object(y.jsx)(Ft.a,{mode:"tags",size:"middle",placeholder:"Enter Keywords",value:""==n?[]:n,onChange:a,style:{width:"100%"}})]})}})})]}),Object(y.jsx)(H.a,{container:!0,direction:"row-reverse",children:Object(y.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})})]})]})};function Pt(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function Lt(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Ot.b.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Ot.b.error("Image must smaller than 2MB!"),t&&a}var At=function(e){Object(ft.a)(a,e);var t=Object(xt.a)(a);function a(){var e;Object(pt.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleChange=function(t){if("uploading"!==t.file.status){if("done"===t.file.status){if(console.log("info",t.file.response.imageId),e.props.multiple){var a=e.props.value;e.props.onChange(""===a?t.file.response.imageId:a+","+t.file.response.imageId)}else e.props.onChange(t.file.response.imageId);Pt(t.file.originFileObj,(function(t){return e.setState({imageUrl:t,loading:!1})}))}}else e.setState({loading:!0})},e}return Object(gt.a)(a,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.imageUrl,n=Object(y.jsxs)("div",{children:[t?Object(y.jsx)(yt.a,{}):Object(y.jsx)(kt.a,{}),Object(y.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(H.a,{container:!0,spacing:3,children:[Object(y.jsx)(H.a,{item:!0,xs:4,children:this.props.title}),Object(y.jsx)(H.a,{item:!0,xs:4,children:Object(y.jsxs)(vt.a,{name:"image",listType:"picture-card",className:"avatar-uploader",showUploadList:this.props.multiple,multiple:this.props.multiple,action:"http://43.204.67.248:3001/api/category/upload",beforeUpload:Lt,onChange:this.handleChange,value:this.props.value,children:[console.log("this.props.multiple",this.props.multiple),this.props.multiple?Object(y.jsx)(y.Fragment,{children:n}):Object(y.jsx)(y.Fragment,{children:a?Object(y.jsx)("img",{src:a,alt:"avatar",style:{width:"100%"}}):n})]})}),Object(y.jsx)(H.a,{item:!0,xs:4,children:this.props.value?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{width:150,src:"http://43.204.67.248:3001/static/Images/Category/"+this.props.value})}):Object(y.jsx)(y.Fragment,{})})]})})}}]),a}(n.Component),Et=At;function Vt(){Object(u.g)();var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=(t[0],t[1],Object(n.useState)(0)),c=Object(l.a)(a,2),o=(c[0],c[1],Object(mt.c)()),i=(o.register,o.handleSubmit),s=(o.watch,o.control),d=o.setValue,j=(o.formState.errors,Object(u.i)()),b=r.a.useState(null),h=Object(l.a)(b,2),m=(h[0],h[1],r.a.useRef({}),r.a.useState(!0)),g=Object(l.a)(m,2);g[0],g[1];r.a.useEffect((function(){xe.a.post("http://43.204.67.248:3001/api/category/getone",{id:j.id}).then((function(e){200==e.status&&(console.log("=======response.data.misfer========",e.data),d("name",e.data.data[0].name),d("label",e.data.data[0].label),d("id",j.id),xe.a.post("http://43.204.67.248:3001/api/banner/getone",{id:e.data.data[0].image_id}).then((function(e){200==e.status&&(console.log("=======response.data.image========",e.data),d("image",e.data.data[0].filename))})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))}),[]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)($e.a,{}),Object(y.jsx)(f.a,{variant:"h4",gutterBottom:!0,children:"Edit Category"}),Object(y.jsxs)("form",{onSubmit:i((function(e){console.log("new data ",e),xe()({method:"POST",url:"http://43.204.67.248:3001/api/category/update",data:e}).then((function(e){200==e.status&&(console.log(e.data),v.b.success("Successfully Updated!"))})).catch((function(e){console.log(e)}))})),encType:"multipart/form-data",children:[Object(y.jsxs)(H.a,{container:!0,spacing:4,children:[Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:s,name:"name",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Name",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:s,name:"label",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.onBlur,r=t.value;t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ue.a,{InputLabelProps:{shrink:!0},label:"Label",fullWidth:!0,onChange:a,value:r,onBlur:n})})}})}),Object(y.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(mt.a,{control:s,name:"image",defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=(t.onBlur,t.value);t.ref;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Et,{title:"Image",multiple:!1,onChange:a,value:n})})}})})]}),Object(y.jsx)(H.a,{container:!0,direction:"row-reverse",children:Object(y.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})})]})]})}Object(ve.a)();var Wt=function(){var e=M(),t=r.a.useState(!1),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(k.a)(e.paper,e.fixedHeight),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(d.a,{children:Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(g.a,{}),Object(y.jsx)(P,{classes:e,drawer:function(){c(!0)},open:n}),Object(y.jsx)($,{classes:e,drawer:function(){c(!1)},open:n}),Object(y.jsxs)("main",{className:e.content,children:[Object(y.jsx)("div",{className:e.appBarSpacer}),Object(y.jsx)(O.a,{maxWidth:"lg",className:e.container,children:Object(y.jsxs)(u.d,{children:[Object(y.jsx)(u.b,{path:"/ads",children:Object(y.jsx)(bt,{})}),Object(y.jsx)(u.b,{path:"/categories",children:Object(y.jsx)(ke,{})}),Object(y.jsx)(u.b,{path:"/view",children:Object(y.jsx)(Te,{})}),Object(y.jsx)(u.b,{path:"/store/add",children:Object(y.jsx)(It,{})}),Object(y.jsx)(u.b,{path:"/store/edit/:id",children:Object(y.jsx)(Nt,{})}),Object(y.jsx)(u.b,{path:"/form",children:Object(y.jsx)(ht,{})}),Object(y.jsx)(u.b,{path:"/categories-edit/:id",children:Object(y.jsx)(Vt,{})}),Object(y.jsx)(u.b,{path:"/",children:Object(y.jsx)(Pe,{})})]})})]})]})})})},Dt=a(204),Tt=a(564),Gt=a(565),Ut=function(){Object(u.g)();var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],s=o[1];return Object(y.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:Object(y.jsx)(Oe.f,{children:Object(y.jsx)(Oe.k,{className:"justify-content-center",children:Object(y.jsx)(Oe.e,{md:8,children:Object(y.jsx)(Oe.d,{children:Object(y.jsx)(Oe.b,{className:"p-4",children:Object(y.jsx)(Oe.c,{children:Object(y.jsxs)(Oe.g,{children:[Object(y.jsx)("h1",{children:"Login"}),Object(y.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),Object(y.jsxs)(Oe.i,{className:"mb-3",children:[Object(y.jsx)(Oe.j,{children:Object(y.jsx)(Dt.a,{icon:Tt.a})}),Object(y.jsx)(Oe.h,{placeholder:"Username",autoComplete:"username",onChange:function(e){return r(e.target.value)}})]}),Object(y.jsxs)(Oe.i,{className:"mb-4",children:[Object(y.jsx)(Oe.j,{children:Object(y.jsx)(Dt.a,{icon:Gt.a})}),Object(y.jsx)(Oe.h,{type:"password",placeholder:"Password",autoComplete:"current-password",onChange:function(e){return s(e.target.value)}})]}),Object(y.jsx)(Oe.k,{children:Object(y.jsx)(Oe.e,{xs:6,children:Object(y.jsx)(Oe.a,{color:"primary",className:"px-4",onClick:function(){if(""!==a)if(""!==i){var e={username:a,password:i};xe()({method:"POST",url:"http://43.204.67.248:3001/api/auth/login",data:e}).then((function(e){200==e.status&&(console.log(e.data),localStorage.setItem("is_login",!0),localStorage.setItem("full_name",e.data.full_name),localStorage.setItem("token",e.data.token.token),localStorage.setItem("user_id",e.data.user_id),window.location.reload(!1))})).catch((function(e){v.b.error("Incorrect Password or Username"),console.log(e)}))}else alert("Enter Password");else alert("Enter Username")},children:"Login"})})})]})})})})})})})})},Rt=["children"],_t=r.a.createContext(null);function zt(){r.a.useEffect((function(){if(console.log("is_login:",localStorage.getItem("is_login")),console.log("token:",localStorage.getItem("token")),localStorage.getItem("is_login")){console.log("------Logged------");var e={full_name:localStorage.getItem("full_name"),token:localStorage.getItem("token"),user_id:localStorage.getItem("user_id")};o(e)}else console.log("----not--Logged------"),o(null)}),[]);var e=r.a.useState(!1),t=Object(l.a)(e,2),a=(t[0],t[1],r.a.useState(null)),n=Object(l.a)(a,2),c=n[0],o=n[1];return console.log("----user--------",c),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_t.Provider,{value:{user:c,updateUser:o},children:Object(y.jsx)(d.a,{children:Object(y.jsxs)(u.d,{children:[Object(y.jsxs)(u.b,{path:"/auth",children:[" ",c?Object(y.jsx)(u.a,{to:"/"}):Object(y.jsx)(Ut,{})," "]}),Object(y.jsxs)(Jt,{path:"/",children:[" ",Object(y.jsx)(Wt,{})," "]})]})})}),Object(y.jsx)(v.a,{})]})}function Jt(e){var t=e.children,a=Object(s.a)(e,Rt),r=Object(n.useContext)(_t);return console.log(r),Object(y.jsx)(u.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){var a=e.location;return null!==r.user?t:Object(y.jsx)(u.a,{to:{pathname:"/auth",state:{from:a}}})}}))}o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(zt,{})}),document.getElementById("root"))}},[[492,1,2]]]);
//# sourceMappingURL=main.d5efdd70.chunk.js.map